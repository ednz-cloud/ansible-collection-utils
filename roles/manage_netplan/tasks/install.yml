---
- name: "install | Install netplan:latest"
  ansible.builtin.include_role:
    name: ednz_cloud.utils.manage_apt_packages
  vars:
    manage_apt_packages_list: "{{ manage_netplan_packages }}"

- name: "install | Install network-manager:latest when used as renderer"
  ansible.builtin.include_role:
    name: ednz_cloud.utils.manage_apt_packages
  vars:
    manage_apt_packages_list: "{{ manage_netplan_networkmanager_pkg }}"
  when: manage_netplan_renderer == 'NetworkManager'

- name: "install | Create directory /etc/netplan"
  ansible.builtin.file:
    path: "/etc/netplan"
    state: directory
    owner: "root"
    group: "root"
    mode: "0755"
